<section class="inner-detail">
    <div class="navbar-wrapper">
        <app-navbar></app-navbar>
        <div class="navbar-bg">

        </div>
    </div>

    <section class="detail-wrapper p-b-25 p-t-15">
        <div class="container">
            <div class="inner-wrapper">
                <div class="row">
                    <div class="col-md-9" *ngFor="let trip of tripsData">
                        <div class="main-title mb-3">
                            <h2 class="intro-heading">{{ trip.name }}</h2>
                        </div>
                        <div class="img">
                            <img src="{{ trip.cover_photo }}" alt="image">
                        </div>
                        <div class="content-wrapper">
                            <div class="overview m-b-30">
                                <h3 class="title">Overview</h3>
                                <div class="overview-detail">
                                    <p [innerHTML]="trip.overview">
                                    </p>
                                </div>
                            </div>
                            <div class="itinerary m-b-30">
                                <h3 class="title">Detailed Day Wise Itinerary</h3>
                                <div class="itinerary-item" *ngFor="let itinerary of itineraryData">
                                    <h4>{{ itinerary.day }}</h4>
                                    <p [innerHTML]="itinerary.description"></p>
                                </div>
                            </div>
                            <div class="offer-includes m-b-30">
                                <h3 class="title">Offer Includes</h3>
                                <ul>
                                    <li>Airfare KTM-BKK-KTM.</li>
                                    <li>Airport Picks Up And Drops.</li>
                                    <li>Coral Island Tour With Lunch In Pattaya</li>
                                    <li>City And Temple Tours At Bangkok.</li>
                                    <li>Daily Breakfast At Hotel.</li>
                                    <li>Transfer Bangkok Airport – Pattaya Hotel – Bangkok Airport</li>
                                </ul>
                            </div>
                            <div class="offer-excludes m-b-30">
                                <h3 class="title">Offer Excludes</h3>
                                <ul>
                                    <li>Other Beverage Throughout Trip.</li>
                                    <li>Expenses Of Personal Nature ( Tel Calls, Laundry, Porterage & Tips)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3" *ngFor="let trip of tripsData">
                        <div class="pricing-detail">
                            <h3>
                                <span class="starting-price">Starting Price from</span>
                                <span class="cost"> Rs.{{ trip.price}}/-</span>
                                <span class="duration">{{ trip.duration}}</span>
                                <span class="destination">{{ trip.name }}</span>
                            </h3>
                          </div>
                          <div class="tour-brief">
                              <ul>
                                  <li>
                                      <span>Highest Altitude</span>
                                      <span class="pull-right">{{ trip.altitude }} </span>
                                  </li>

                                  <li>
                                      <span>Trip Grade</span>
                                      <span class="pull-right">{{ trip.rating }} </span>
                                  </li>

                                  <li>
                                      <span>Trip Difficulty</span>
                                      <span class="pull-right">{{ trip.difficulty}} </span>
                                  </li>

                                  <li>
                                      <span>Trip Season</span>
                                      <span class="pull-right">{{ trip.season }}</span>
                                  </li>

                                  <li>
                                      <span>Activities</span>
                                      <span class="pull-right">{{ trip.keyword }}</span>
                                  </li>
                              </ul>
                          </div>
                        <div class="booking">
                            <h4>Booking Contact</h4>
                            <ul>
                                <li>
                                    <a href="tel:+977-9851063719">
                                        <span>
                      <i class="fas fa-phone"></i>
                    </span> +977-9851063719
                                    </a>
                                </li>
                                <li>
                                    <a>
                                        <span>
                      <i class="fas fa-map-marker-alt"></i>
                    </span> Hattisar, Kathmandu
                                    </a>
                                </li>
                                <li>
                                    <a href="mailto:{{ trip.email }}">
                                        <span>
                      <i class="fas fa-envelope"></i>
                    </span> himalayanvisiontreks@gmail.com
                        {{ trip.email }}
                                    </a>
                                </li>
                            </ul>
                            <!-- <a class="btn bg-primarycolor mbr-black btn-md text-uppercase" href="#">Book Now</a> -->

                            <!-- Button trigger modal -->
                            <button type="button" class="btn bg-primarycolor mbr-black btn-md text-uppercase" data-toggle="modal" data-target="#exampleModalLong">
                                Book Now
                            </button>

                        </div>
                        <div class="enquiry">
                            <h4>Enquiry</h4>
                            <div class="form-wrapper">
                                <form>
                                    <div class="form-group">
                                        <input class="form-control custom-field" id="fname" placeholder="Full Name" tye="text"
                                        />
                                    </div>
                                    <div class="form-group">
                                        <input class="form-control custom-field"  id="email" placeholder="Email" type="email" required="">
                                    </div>
                                    <div class="form-group">
                                        <input class="form-control custom-field" id="contact" placeholder="Contact Number." type="number" required>
                                    </div>
                                    <div class="form-group">
                                        <input class="btn bg-primarycolor mbr-black btn-md text-uppercase" type="submit" value="Submit Now">
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="call-back">
                            <h4>Request a Callback</h4>
                            <div class="input-group">
                                <input class="form-control" placeholder="Type your number" type="text">
                                <div class="input-group-append">
                                    <button class="btn call-back-btn" type="button">
                                        <i aria-hidden="true" class="fas fa-phone"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="call-back">
                            <h4>Get Itinerary</h4>
                            <div class="input-group">
                                <input class="form-control" placeholder="Type your email" type="email">
                                <div class="input-group-append">
                                    <button class="btn call-back-btn" type="button">
                                        <i aria-hidden="true" class="fas fa-envelope"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="call-back recommended-package">
                            <h4>Recommended Package</h4>
                            <div class="recommended-package-wrapper">
                                <div class="destination-item" *ngFor="let trip of recommendedPackages | slice:0:2">
                                    <div class="destination-wrapper">
                                        <div class="img-wrapper">
                                            <img src="{{ trip.cover_photo}}" alt="image">
                                        </div>
                                        <div class="floating-btn cta-btn md-pr-30 xs-no-padding" >
                                            <a class="btn bg-primarycolor mbr-black btn-sm text-uppercase" (click)="tripId(trip.trip_id)" (click)="top()" >
                                                View Detail
                                            </a>
                                        </div>
                                        <div class="description">
                                            <div class="title-wrapper mb-3">
                                                <h3 class="block-title">{{ trip.name }}</h3>
                                            </div>
                                            <div class="item-detail">
                                                <div class="pricing mb-3">
                                                    <span>Rs.{{ trip.price }}/-</span>
                                                    <span>{{ trip.duration }}</span>
                                                </div>
                                                <div class="item-detail-text">
                                                    <p [innerHTML]=trip.overview>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="booking-form">
        <div class="container">
            <!-- Modal -->
            <div class="modal fade bd-example-modal-lg" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true"  *ngFor="let trip of tripsData" >
                <div class="modal-dialog modal-dialog modal-lg" role="document" >
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title col-12" id="exampleModalLongTitle">{{ trip.name }}</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form [formGroup]="bookingForm" (ngSubmit)='onsubmit(bookingForm)'>
                                <div class="trip-wrapper">
                                    <div class="form-group">
                                        <label for="expiry-date" class="travel-date">Travel Date (From - To)*</label>
                                        <div class="form-group travel-date">
                                            <input class="form-control" formControlName="date" type="text" daterangepicker [options]="options" (selected)="selectedDate($event)" (cancelDaterangepicker)="calendarCanceled($event)" (applyDaterangepicker)="calendarApplied($event)" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <h3 class="sub-title">Number of Travelers</h3>
                                        <div class="form-group row traveler-no">

                                          <div class="col-md-6 form-group">
                                            <label for="adults">Adults*</label>
                                            <input class="form-control" formControlName="adults" id="adults"  placeholder="No. of adults..." type="number"
                                            [ngClass]="{'form-control': true, 'is-invalid': !adults.valid && adults.touched, 'is-valid': adults.valid}"
                                            />
                                            <div *ngIf="adults.errors?.required && adults.touched" class="form-text alert alert-danger">
                                              Field is required
                                            </div>
                                          </div>

                                          <div class="col-md-6 form-group">
                                              <label for="childrens">Childrens*</label>
                                              <input class="form-control" formControlName="childrens" id="childrens"  placeholder="No. of childrens..." type="number">
                                          </div>

                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <h3 class="sub-title">Trip Leader Detail</h3>
                                        <div class="form-group row trip-detail">

                                          <div class="col-md-6 form-group">
                                            <label for="contactName">Full Name*</label>
                                            <input class="form-control" formControlName="contactName" id="contactName" placeholder="Enter Full Name ..." type="text"
                                            [ngClass]="{'form-control': true, 'is-invalid': !contactName.valid && contactName.touched, 'is-valid': contactName.valid}"
                                            />
                                            <div *ngIf="contactName.errors?.required && contactName.touched" class="alert alert-danger">
                                                Fields is required.
                                            </div>
                                            <div *ngIf="contactName.errors?.pattern && (contactName.touched || contactName.dirty)" class="alert alert-danger">
                                              Name should be atleast 2 characters.
                                            </div>
                                          </div>

                                          <div class="col-md-6 form-group">
                                            <label for="contactEmail">Email*</label>
                                            <input formControlName="contactEmail" id="contactEmail" placeholder="Enter email address ..." type="text"
                                            [ngClass]="{'form-control': true, 'is-invalid': !contactEmail.valid && (contactEmail.touched), 'is-valid': contactEmail.valid}"
                                            (change)="fun(this.contactEmail)"
                                            />
                                            <div *ngIf="contactEmail.errors?.required && (contactEmail.touched || contactEmail.dirty)" class="alert alert-danger">
                                                Fields is required.
                                            </div>
                                            <div *ngIf="contactEmail.errors?.pattern && contactEmail.touched" class="alert alert-danger">
                                                Invalid email address.
                                            </div>
                                          </div>

                                          <div class="col-md-6 form-group">
                                            <label for="contactNumber">Phone Number*</label>
                                            <input formControlName="contactNumber" id="contactNumber" placeholder="Enter Mobile Number ..." type="number" maxLength="10"
                                            [ngClass]="{'form-control': true, 'is-invalid': !contactNumber.valid && contactNumber.touched, 'is-valid': contactNumber.valid}"
                                            />
                                            <div *ngIf="contactNumber.errors?.pattern && contactNumber.touched " class="alert alert-danger">
                                                Must be a valid 10 digit phone number
                                            </div>
                                            <div *ngIf="contactNumber.errors?.required && (contactNumber.touched || contactNumber.dirty)" class="alert alert-danger">
                                                Fields is required.
                                            </div>
                                          </div>

                                        </div>
                                    </div>

                                    <div class="form-check book">
                                        <label>
                                            <input id="termsCheck" name="termsCheck" required="" type="checkbox"> I agree to the
                                            <a routerlink="/terms" target="_blank" href="#/terms">Terms and Conditions</a> and
                                            <a target="_blank">Privacy Policy</a>
                                        </label>
                                    </div>
                                    <button class="btn bg-primarycolor mbr-black btn-sm text-uppercase" id="confirmBttn" type="submit" value="Book" [disabled]="!bookingForm.valid" (click)="booked()">Book</button>
                                    <button class="btn btn-sm text-uppercase modal-close-btn pull-right" data-dismiss="modal" type="button">Close</button>
                                </div>
                              </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
  </section>
</section>



